register:
  tags: [auth]
  summary: Регистрация нового пользователя
  operationId: registerUser
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: "./schemas.yaml#/components/schemas/RegisterRequest"
  responses:
    201:
      description: Успешная регистрация
      content:
        application/json:
          schema:
            $ref: "./schemas.yaml#/components/schemas/AuthResponse"
    400:
      $ref: "../responses.yaml#/components/schemas/BadRequest"
    409:
      $ref: "../responses.yaml#/components/schemas/Conflict"

login:
  tags: [auth]
  summary: Вход в систему
  operationId: loginUser
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: "./schemas.yaml#/components/schemas/LoginRequest"
  responses:
    200:
      description: Успешный вход
      content:
        application/json:
          schema:
            $ref: "./schemas.yaml#/components/schemas/AuthResponse"
    401:
      $ref: "../responses.yaml#/components/schemas/Unauthorized"
    400:
      $ref: "../responses.yaml#/components/schemas/BadRequest"

verify:
  tags: [auth]
  summary: Проверка валидности access токена
  operationId: verifyToken
  responses:
    200:
      description: Валидный токен
      content:
        application/json:
          schema:
            $ref: "./schemas.yaml#/components/schemas/VerifyAccessTokenResponse"
    401:
      $ref: "../responses.yaml#/components/schemas/Unauthorized"
    400:
      $ref: "../responses.yaml#/components/schemas/BadRequest"

refresh:
  tags: [auth]
  summary: Обновление access-токена
  operationId: refreshToken
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: "./schemas.yaml#/components/schemas/RefreshTokenRequest"
  responses:
    200:
      description: Токен обновлен
      content:
        application/json:
          schema:
            $ref: "./schemas.yaml#/components/schemas/RefreshTokenResponse"
    401:
      $ref: "../responses.yaml#/components/schemas/Unauthorized"

logout:
  tags: [auth]
  summary: Выход из системы
  operationId: logoutUser
  security:
    - bearerAuth: []
  responses:
    204:
      description: Успешный выход
    401:
      $ref: "../responses.yaml#/components/schemas/Unauthorized"
